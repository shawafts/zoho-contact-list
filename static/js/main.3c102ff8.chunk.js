(this["webpackJsonpfinkraft-contacts"]=this["webpackJsonpfinkraft-contacts"]||[]).push([[0],{21:function(e,t,a){e.exports=a(52)},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),l=a.n(c),s=a(5),o=a.n(s),i=a(7),m=a(3),u=function(e){var t=e.selectedFilter,a=e.onChange,n=e.filterOptions,c=e.cssClass,l=e.text;return r.a.createElement("div",{className:c},r.a.createElement("button",{className:"btn btn-primary dropdown-toggle",type:"button","data-toggle":"dropdown"},t," ",l&&l,r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu"},n.map((function(e,t){return r.a.createElement("li",{key:t,className:"dropdown-item",onClick:function(){return a(e)}},e)}))))},p=function(e){var t=e.data,a=e.columns;return r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.contact_id},a.map((function(t,a){return r.a.createElement("td",{key:a,className:t.style?t.style:""},t.prefix?t.prefix:"",e[t.path])})))})))},d=a(20),h=function(e){var t=e.columns,a=e.sortColumn,n=e.handleSort;return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t,className:"clickable",onClick:function(){return e.sortable?function(e){var t=Object(d.a)({},a);t.path===e?t.order="A"===t.order?"D":"A":(t.path=e,t.order="A"),n(t)}(e.path):null}},e.label," ",function(e){return e.path!==a.path?null:"A"===a.order?r.a.createElement("i",{className:"fa fa-sort-asc"}):r.a.createElement("i",{className:"fa fa-sort-desc"})}(e))}))))},g=[{label:"Name",path:"customer_name",sortable:!0},{label:"Company Name",path:"company_name",sortable:!1},{label:"Email",path:"email",sortable:!0},{label:"Work Phone",path:"phone",sortable:!1},{label:"GST Treatment",path:"gst_treatment",sortable:!1},{label:"Receivables",path:"outstanding_receivable_amount",sortable:!0,style:"text-right",prefix:"\u20b9"},{label:"Payables",path:"outstanding_payable_amount",sortable:!1,style:"text-right",prefix:"\u20b9"}],f=function(e){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement(h,{columns:g,sortColumn:e.sortColumn,handleSort:e.handleSort}),r.a.createElement(p,{data:e.contacts,columns:g})))},E=a(4),b=a.n(E),v=a(19);b.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error:",e),v.a.error("An unexpected error occured")),Promise.reject(e)}));var N={get:b.a.get,setToken:function(e){b.a.defaults.headers.common.Authorization="Zoho-authtoken ".concat(e)},setCors:function(){b.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",b.a.defaults.headers.common["Access-Control-Request-Method"]="GET",b.a.defaults.headers.common["Access-Control-Request-Headers"]="Authorization"}},x=a(8);function y(e,t,a,n){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(o.a.mark((function e(t,a,n,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get(x.a,{params:{organization_id:x.b,page:t,per_page:a,filter_by:"Status.".concat(n),sort_column:r.path,sort_order:r.order}});case 3:return c=e.sent,console.log("Data:",c.data),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error",e.t0),e.abrupt("return",{contacts:[],page_context:{has_more_page:!1}});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var k=function(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},r.a.createElement("div",{className:"spinner-grow text-muted m-2"}),r.a.createElement("div",{className:"spinner-grow text-primary m-2"}),r.a.createElement("div",{className:"spinner-grow text-success m-2"}),r.a.createElement("div",{className:"spinner-grow text-info m-2"}),r.a.createElement("div",{className:"spinner-grow text-warning m-2"}),r.a.createElement("div",{className:"spinner-grow text-danger m-2"}),r.a.createElement("div",{className:"spinner-grow text-secondary m-2"}),r.a.createElement("div",{className:"spinner-grow text-dark m-2"}),r.a.createElement("div",{className:"spinner-grow text-light m-2"}))))},w=function(e){var t=e.page,a=e.hasMorePage,n=e.handlePageChange,c=e.cssClass,l=t,s=!1;1!==t||a||(s=!0);var o=Array.from({length:l},(function(e,t){return t+1}));return r.a.createElement("nav",{"aria-label":"...",className:c},s?r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item active"},r.a.createElement("span",{className:"page-link"},"1"))):r.a.createElement("ul",{className:"pagination"},o.map((function(e,a){var c="page-item",l=!1;return e===t&&(c+=" active",l=!0),r.a.createElement("li",{key:a,className:c},r.a.createElement("span",{className:"page-link",onClick:function(){return l?null:n(e)}},e))})),a&&r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){return n(t+1)}},"Next"))))},O=[2,5,10,20,50],j=function(e){var t=e.page,a=e.hasMorePage,n=e.handlePageChange,c=e.perPage,l=e.handleSizeChange;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(u,{selectedFilter:c,onChange:l,filterOptions:O,cssClass:"col-2",text:"Per Page"}),r.a.createElement(w,{page:t,hasMorePage:a,handlePageChange:n,cssClass:"col-2"})))},_=function(){return r.a.createElement("div",{className:"container p-4 text-center"},r.a.createElement("h1",null,"No Data Available"))},A=["All","Active","Inactive","Duplicate","Crm"],S=function(){var e=Object(n.useState)(1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(10),s=Object(m.a)(l,2),p=s[0],d=s[1],h=Object(n.useState)(!1),g=Object(m.a)(h,2),E=g[0],b=g[1],v=Object(n.useState)("All"),N=Object(m.a)(v,2),x=N[0],C=N[1],w=Object(n.useState)({path:"contact_name",order:"A"}),O=Object(m.a)(w,2),S=O[0],P=O[1],z=Object(n.useState)(!1),M=Object(m.a)(z,2),D=M[0],T=M[1],F=Object(n.useState)([]),J=Object(m.a)(F,2),R=J[0],q=J[1];Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,y(a,p,x,S);case 3:t=e.sent,q(t.contacts),b(t.page_context.has_more_page),T(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,p,x,S]);return D?r.a.createElement(k,null):r.a.createElement("div",{className:"container"},r.a.createElement(u,{selectedFilter:x,onChange:function(e){C(e)},filterOptions:A,cssClass:"container py-4"}),R.length>0?r.a.createElement("div",null,r.a.createElement(f,{contacts:R,sortColumn:S,handleSort:function(e){P(e)}}),r.a.createElement(j,{page:a,hasMorePage:E,handlePageChange:function(e){c(e)},perPage:p,handleSizeChange:function(e){d(e)}})):r.a.createElement(_,null))};var P=function(){return r.a.createElement("div",null,r.a.createElement(S,null))};a(46),a(47),a(51);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('{"a":"https://finkraft-zoho-proxy.herokuapp.com/proxy","b":"649249007"}')}},[[21,1,2]]]);
//# sourceMappingURL=main.3c102ff8.chunk.js.map