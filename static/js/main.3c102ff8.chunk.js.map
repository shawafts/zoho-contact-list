{"version":3,"sources":["components/common/Filter.js","components/common/TableBody.js","components/common/TableHeader.js","components/contacts/contactsTable.js","services/http.js","services/contactService.js","components/common/Loading.js","components/common/Pagination.js","components/contacts/contactsTableFooter.js","components/common/NoData.js","components/contacts/contacts.js","App.js","index.js"],"names":["Filter","selectedFilter","onChange","filterOptions","cssClass","text","className","type","data-toggle","map","value","index","key","onClick","TableBody","data","columns","item","contact_id","column","style","prefix","path","TableHeader","sortColumn","handleSort","sortable","sortColumnTemp","order","raiseSort","label","renderSortIcon","ContactsTable","props","contacts","axios","interceptors","response","use","error","status","console","log","toast","Promise","reject","get","setToken","token","defaults","headers","common","setCors","getContacts","page","perPage","filter","a","http","apiUrl","params","organization_id","organizationId","per_page","filter_by","sort_column","sort_order","page_context","has_more_page","Loading","height","Pagination","hasMorePage","handlePageChange","currentPage","isSinglePage","pages","Array","from","length","_","i","aria-label","disable","ContactsTableFooter","handleSizeChange","NoData","Contacts","useState","setPage","setPerPage","setHasMorePage","setSelectedFilter","setSortColumn","loading","setLoading","setContacts","useEffect","fetchData","size","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c102ff8.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({\n  selectedFilter,\n  onChange,\n  filterOptions,\n  cssClass,\n  text,\n}) => {\n  return (\n    <div className={cssClass}>\n      <button\n        className=\"btn btn-primary dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n      >\n        {selectedFilter} {text && text}\n        <span className=\"caret\"></span>\n      </button>\n      <ul className=\"dropdown-menu\">\n        {filterOptions.map((value, index) => (\n          <li\n            key={index}\n            className=\"dropdown-item\"\n            onClick={() => onChange(value)}\n          >\n            {value}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst TableBody = ({ data, columns }) => {\n  return (\n    <tbody>\n      {data.map((item) => (\n        <tr key={item.contact_id}>\n          {columns.map((column, index) => (\n            <td key={index} className={column.style ? column.style : \"\"}>\n              {column.prefix ? column.prefix : \"\"}\n              {item[column.path]}\n            </td>\n          ))}\n        </tr>\n      ))}\n    </tbody>\n  );\n};\n\nexport default TableBody;\n","import React from \"react\";\n\nconst TableHeader = ({ columns, sortColumn, handleSort }) => {\n  const raiseSort = (path) => {\n    const sortColumnTemp = { ...sortColumn };\n    if (sortColumnTemp.path === path)\n      sortColumnTemp.order = sortColumnTemp.order === \"A\" ? \"D\" : \"A\";\n    else {\n      sortColumnTemp.path = path;\n      sortColumnTemp.order = \"A\";\n    }\n    handleSort(sortColumnTemp);\n  };\n\n  const renderSortIcon = (column) => {\n    // const { sortColumn } = this.props;\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === \"A\") return <i className=\"fa fa-sort-asc\"></i>;\n    return <i className=\"fa fa-sort-desc\"></i>;\n  };\n\n  return (\n    <thead>\n      <tr>\n        {columns.map((column, index) => (\n          <th\n            key={index}\n            className=\"clickable\"\n            onClick={() => (column.sortable ? raiseSort(column.path) : null)}\n          >\n            {column.label} {renderSortIcon(column)}\n          </th>\n        ))}\n      </tr>\n    </thead>\n  );\n};\n\nexport default TableHeader;\n","import React from \"react\";\nimport TableBody from \"../common/TableBody\";\nimport TableHeader from \"../common/TableHeader\";\n\nconst columns = [\n  {\n    label: \"Name\",\n    path: \"customer_name\",\n    // content: (user) => (\n    //   <Link to={`/users/${user.contact_id}`}>{user.customer_name}</Link>\n    // ),\n    sortable: true,\n  },\n  { label: \"Company Name\", path: \"company_name\", sortable: false },\n  { label: \"Email\", path: \"email\", sortable: true },\n  { label: \"Work Phone\", path: \"phone\", sortable: false },\n  { label: \"GST Treatment\", path: \"gst_treatment\", sortable: false },\n  {\n    label: \"Receivables\",\n    path: \"outstanding_receivable_amount\",\n    sortable: true,\n    style: \"text-right\",\n    prefix: \"₹\",\n  },\n  {\n    label: \"Payables\",\n    path: \"outstanding_payable_amount\",\n    sortable: false,\n    style: \"text-right\",\n    prefix: \"₹\",\n  },\n];\n\nconst ContactsTable = (props) => {\n  return (\n    <div>\n      <table className=\"table table-bordered\">\n        <TableHeader\n          columns={columns}\n          sortColumn={props.sortColumn}\n          handleSort={props.handleSort}\n        />\n        <TableBody data={props.contacts} columns={columns} />\n      </table>\n    </div>\n  );\n};\n\nexport default ContactsTable;\n","import axios from \"axios\";\n\nimport { toast } from \"react-toastify\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n  if (!expectedError) {\n    console.log(\"Logging the error:\", error);\n    toast.error(\"An unexpected error occured\");\n  }\n  return Promise.reject(error);\n});\n\nfunction setToken(token) {\n  axios.defaults.headers.common[\"Authorization\"] = `Zoho-authtoken ${token}`;\n}\n\nfunction setCors() {\n  axios.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\n  axios.defaults.headers.common[\"Access-Control-Request-Method\"] = \"GET\";\n  axios.defaults.headers.common[\"Access-Control-Request-Headers\"] =\n    \"Authorization\";\n}\n\nexport default {\n  get: axios.get,\n  setToken: setToken,\n  setCors: setCors,\n  //   put: axios.put,\n};\n","import http from \"./http\";\nimport { apiUrl, organizationId } from \"../config.json\";\n// const organizationId = \"649249007\";\n// const apiUrl = \"https://finkraft-zoho-proxy.herokuapp.com/proxy\";\n\nexport async function getContacts(page, perPage, filter, sortColumn) {\n  let response;\n  try {\n    response = await http.get(apiUrl, {\n      params: {\n        organization_id: organizationId,\n        page: page,\n        per_page: perPage,\n        filter_by: `Status.${filter}`,\n        sort_column: sortColumn.path,\n        sort_order: sortColumn.order,\n      },\n    });\n    console.log(\"Data:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.log(\"Error\", error);\n    return { contacts: [], page_context: { has_more_page: false } };\n  }\n}\n","import React from \"react\";\n\nconst Loading = () => {\n  return (\n    <div style={{ height: \"100vh\" }}>\n      <div className=\"container h-100\">\n        <div className=\"row h-100 justify-content-center align-items-center\">\n          <div className=\"spinner-grow text-muted m-2\"></div>\n          <div className=\"spinner-grow text-primary m-2\"></div>\n          <div className=\"spinner-grow text-success m-2\"></div>\n          <div className=\"spinner-grow text-info m-2\"></div>\n          <div className=\"spinner-grow text-warning m-2\"></div>\n          <div className=\"spinner-grow text-danger m-2\"></div>\n          <div className=\"spinner-grow text-secondary m-2\"></div>\n          <div className=\"spinner-grow text-dark m-2\"></div>\n          <div className=\"spinner-grow text-light m-2\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\n\nconst Pagination = ({ page, hasMorePage, handlePageChange, cssClass }) => {\n  let currentPage = page;\n  let isSinglePage = false;\n  if (page === 1 && !hasMorePage) isSinglePage = true;\n  let pages = Array.from({ length: currentPage }, (_, i) => i + 1);\n\n  return (\n    <nav aria-label=\"...\" className={cssClass}>\n      {isSinglePage ? (\n        <ul className=\"pagination\">\n          <li className=\"page-item active\">\n            <span className=\"page-link\">1</span>\n          </li>\n        </ul>\n      ) : (\n        <ul className=\"pagination\">\n          {pages.map((value, index) => {\n            let style = \"page-item\";\n            let disable = false;\n            if (value === page) {\n              style = style + \" active\";\n              disable = true;\n            }\n            return (\n              <li key={index} className={style}>\n                <span\n                  className=\"page-link\"\n                  onClick={() => (disable ? null : handlePageChange(value))}\n                >\n                  {value}\n                </span>\n              </li>\n            );\n          })}\n          {hasMorePage && (\n            <li className=\"page-item\">\n              <span\n                className=\"page-link\"\n                onClick={() => handlePageChange(page + 1)}\n              >\n                Next\n              </span>\n            </li>\n          )}\n        </ul>\n      )}\n    </nav>\n  );\n};\n\nexport default Pagination;\n","import React from \"react\";\nimport Filter from \"../common/Filter\";\nimport Pagination from \"../common/Pagination\";\n\nconst filterOptions = [2, 5, 10, 20, 50];\n\nconst ContactsTableFooter = ({\n  page,\n  hasMorePage,\n  handlePageChange,\n  perPage,\n  handleSizeChange,\n}) => {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <Filter\n          selectedFilter={perPage}\n          onChange={handleSizeChange}\n          filterOptions={filterOptions}\n          cssClass=\"col-2\"\n          text=\"Per Page\"\n        />\n        <Pagination\n          page={page}\n          hasMorePage={hasMorePage}\n          handlePageChange={handlePageChange}\n          cssClass=\"col-2\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ContactsTableFooter;\n","import React from \"react\";\n\nconst NoData = () => {\n  return (\n    <div className=\"container p-4 text-center\">\n      <h1>No Data Available</h1>\n    </div>\n  );\n};\n\nexport default NoData;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"../common/Filter\";\nimport ContactsTable from \"./contactsTable\";\nimport { getContacts } from \"../../services/contactService\";\nimport Loading from \"../common/Loading\";\nimport ContactsTableFooter from \"./contactsTableFooter\";\nimport NoData from \"../common/NoData\";\n\nconst filterOptions = [\"All\", \"Active\", \"Inactive\", \"Duplicate\", \"Crm\"];\n\nconst Contacts = () => {\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(10);\n  const [hasMorePage, setHasMorePage] = useState(false);\n  const [selectedFilter, setSelectedFilter] = useState(\"All\");\n  const [sortColumn, setSortColumn] = useState({\n    path: \"contact_name\",\n    order: \"A\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [contacts, setContacts] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      let data = await getContacts(page, perPage, selectedFilter, sortColumn);\n      setContacts(data.contacts);\n      setHasMorePage(data.page_context.has_more_page);\n      setLoading(false);\n    }\n    fetchData();\n  }, [page, perPage, selectedFilter, sortColumn]);\n\n  const handlePageChange = (page) => {\n    setPage(page);\n  };\n\n  const handleFilterChange = (filter) => {\n    setSelectedFilter(filter);\n  };\n\n  const handleSizeChange = (size) => {\n    setPerPage(size);\n  };\n\n  const handleSort = (sortColumnTemp) => {\n    setSortColumn(sortColumnTemp);\n  };\n\n  if (loading) return <Loading />;\n  return (\n    <div className=\"container\">\n      <Filter\n        selectedFilter={selectedFilter}\n        onChange={handleFilterChange}\n        filterOptions={filterOptions}\n        cssClass=\"container py-4\"\n      />\n      {contacts.length > 0 ? (\n        <div>\n          <ContactsTable\n            contacts={contacts}\n            sortColumn={sortColumn}\n            handleSort={handleSort}\n          />\n          <ContactsTableFooter\n            page={page}\n            hasMorePage={hasMorePage}\n            handlePageChange={handlePageChange}\n            perPage={perPage}\n            handleSizeChange={handleSizeChange}\n          />\n        </div>\n      ) : (\n        <NoData />\n      )}\n    </div>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\nimport Contacts from \"./components/contacts/contacts\";\n\nfunction App() {\n  return (\n    <div>\n      <Contacts />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/js/bootstrap.js\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}